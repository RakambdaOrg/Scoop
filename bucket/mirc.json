{
    "$schema": "https://raw.githubusercontent.com/ScoopInstaller/Scoop/master/schema.json",
    "homepage": "https://www.mirc.com/",
    "version": "7.83",
    "description": "mIRC is a popular Internet Relay Chat client used by individuals and organizations to communicate, share, play and work with each other on IRC networks around the world. Serving the Internet community for over two decades, mIRC has evolved into a powerful, reliable and fun piece of technology.",
    "license": "Shareware",
    "url": "https://www.mirc.com/get.php#/dl.exe",
    "hash": "c4e001b16aefb94158c6ee0324491b843639548fe5facbb04a03f45b7e3847a9",
    "pre_install": [
        "if (!(Test-Path \"$dir\\addrbk.ini\")) {",
        "    New-Item \"$dir\\addrbk.ini\" -ItemType File | Out-Null",
        "}",
        "if (!(Test-Path \"$dir\\channels.ini\")) {",
        "    New-Item \"$dir\\channels.ini\" -ItemType File | Out-Null",
        "}",
        "if (!(Test-Path \"$dir\\mirc.ini\")) {",
        "    New-Item \"$dir\\mirc.ini\" -ItemType File | Out-Null",
        "}",
        "if (!(Test-Path \"$dir\\servers.ini\")) {",
        "    New-Item \"$dir\\servers.ini\" -ItemType File | Out-Null",
        "}",
        "if (!(Test-Path \"$dir\\urls.ini\")) {",
        "    New-Item \"$dir\\urls.ini\" -ItemType File | Out-Null",
        "}"
    ],
    "post_install": [
        "$iniFile=\"$dir\\mirc.ini\"",
        "Write-Host \"Setting mIRC to run in portable mode\"",
        "(Get-Content \"$iniFile\").Replace('portable=no', 'portable=yes') | Set-Content \"$iniFile\""
    ],
    "installer": {
        "args": [
            "/S",
            "/D=$dir"
        ]
    },
    "uninstaller": {
        "file": "uninstall.exe",
        "args": [
            "/S"
        ]
    },
    "bin": [
        "mirc.exe"
    ],
    "shortcuts": [
        [
            "mirc.exe",
            "mIRC",
            "-portable"
        ]
    ],
    "persist": [
        "addrbk.ini",
        "channels.ini",
        "mirc.ini",
        "urls.ini",
        "servers.ini",
        "download",
        "logs",
        "scripts",
        "sounds"
    ],
    "checkver": {
        "url": "https://www.mirc.com/versions.txt",
        "regex": "mIRC v(\\d+\\.\\d+)"
    },
    "autoupdate": {
        "url": "https://www.mirc.com/get.php#/dl.7z"
    }
}
